package egzaminui.demo;
import java.util.ArrayList;
import org.springframework.util.StringUtils;
public class KurtiPageControllerFaila {
	
	private ArrayList<Lentele> lenteles;
	
	public KurtiPageControllerFaila() {
		
	}
	
	public KurtiPageControllerFaila(ArrayList<Lentele> lenteles) {
		
		this.lenteles = lenteles;
		
	}
	public ArrayList<String> JavaFailui() {
		ArrayList<String> JavaFailui = new ArrayList<String>();
		JavaFailui.add("package duomenys.mitybai;");
		JavaFailui.add("");
		JavaFailui.add("import org.hibernate.Session;");
		JavaFailui.add("import org.hibernate.SessionFactory;");
		JavaFailui.add("import org.springframework.beans.factory.annotation.Autowired;");
		JavaFailui.add("import org.springframework.stereotype.Controller;");
		JavaFailui.add("import org.springframework.ui.Model;");
		JavaFailui.add("import org.springframework.web.bind.annotation.RequestMapping;");
		JavaFailui.add("import org.springframework.web.bind.annotation.RequestMethod;");
		JavaFailui.add("import org.springframework.web.bind.annotation.RequestParam;");
		JavaFailui.add("");
		JavaFailui.add("import com.google.gson.Gson;");
		JavaFailui.add("");
		JavaFailui.add("import java.util.ArrayList;");
		JavaFailui.add("import java.util.List;");
		JavaFailui.add("import java.util.Optional;");
		JavaFailui.add("import javax.persistence.EntityManagerFactory;");
		JavaFailui.add("");
		JavaFailui.add("@Controller");
		JavaFailui.add("public class PageController {");
		for( int i=0; i < lenteles.size(); i++ ) {
			JavaFailui.add("	@Autowired // This means to get the bean called userRepository");
			JavaFailui.add("    // Which is auto-generated by Spring, we will use it to handle the data");
			JavaFailui.add("	private " + StringUtils.capitalize(lenteles.get(i).getLenteles_pav()) + "Repository " + lenteles.get(i).getLenteles_pav() + "_rep;");
		}
		JavaFailui.add("	@Autowired ");
		JavaFailui.add("	EntityManagerFactory factory;");
		JavaFailui.add("");
		JavaFailui.add("	// @Bean");
		JavaFailui.add("	public SessionFactory sessionFactory() {");
		JavaFailui.add("		");
		JavaFailui.add("	        if (factory.unwrap(SessionFactory.class) == null) {");
		JavaFailui.add("	            throw new NullPointerException(\"factory is not a hibernate factory\");");
		JavaFailui.add("	        }");
		JavaFailui.add("	        return factory.unwrap(SessionFactory.class);");
		JavaFailui.add("	}");
		JavaFailui.add("	");
		for( int i=0; i < lenteles.size(); i++ ) {
			JavaFailui.add("	@RequestMapping(path=" + (char)47 + lenteles.get(i).getLenteles_pav() + ", method={ RequestMethod.GET, RequestMethod.POST })");
			JavaFailui.add("    public String " + lenteles.get(i).getLenteles_pav() + "(");
			for(int y=0; y < (lenteles.get(i).kiekis_stulpeliu - 1); y++) {
				JavaFailui.add("    		@RequestParam(name=\"" + lenteles.get(i).getStulpeliu_pav() + "\", required=false, defaultValue="") Integer id");
				JavaFailui.add("    		, @RequestParam(name="pav", required=false, defaultValue="") String pav");
			JavaFailui.add("    		, @RequestParam(name="kilme", required=false, defaultValue="0") Integer kilme");
			JavaFailui.add("    		, @RequestParam(name="veiksmas", required=false, defaultValue="neveikti") String veiksmas");
			JavaFailui.add("    		, @RequestParam(name="salinti", required=false, defaultValue="nesalinti") String salinti");
		JavaFailui.add("    		, Model model ");
		JavaFailui.add("    	) {");
		JavaFailui.add("        ");
		JavaFailui.add("		BackEndMessage back_end_message = new BackEndMessage ( "nieko dar neveikem", false, "pranesimas_grey" );");
		JavaFailui.add("		");
		JavaFailui.add("		String kur_eiti = "produktas";");
		JavaFailui.add("		");
		JavaFailui.add("        if ( veiksmas.equals("papildyti") ) {");
		JavaFailui.add("        	");
		JavaFailui.add("        	List<Produktai> lst_prod = produktai_rep.findByPav(pav);");
		JavaFailui.add("        	");
		JavaFailui.add("        	if ( lst_prod.size() > 0 ) {");
		JavaFailui.add("        		");
		JavaFailui.add("        		back_end_message.setMessage( "produktas su tokiu pav '" + pav + "' jau egzistuoja" );");
		JavaFailui.add("        		back_end_message.setCss_class( "pranesimas_red" );");
		JavaFailui.add("        		");
		JavaFailui.add("        	} else {");
		JavaFailui.add("        		");
		JavaFailui.add("	        	Produktai produktas = new Produktai( id, pav, kilme );");
		JavaFailui.add("	        	produktai_rep.save( produktas );");
		JavaFailui.add("	        	kur_eiti = "redirect:/produktas?id="+produktas.getId();");
		JavaFailui.add("        		back_end_message.setMessage( "sarašas papildytas produktu '" + pav + "'" );");
		JavaFailui.add("        		back_end_message.setCss_class( "pranesimas_green" );");
		JavaFailui.add("        		");
		JavaFailui.add("        	}");
		JavaFailui.add("        }");
		JavaFailui.add("        ");
		JavaFailui.add("        if ( veiksmas.equals("pakeisti") ) {");
		JavaFailui.add("        	");
		JavaFailui.add("        	Produktai produktas = new Produktai();// id, pav;");
		JavaFailui.add("        	Optional <Produktai> found = produktai_rep.findById( id );");
		JavaFailui.add("        	");
		JavaFailui.add("        	if ( found.isPresent() ) {");
		JavaFailui.add("    			");
		JavaFailui.add("        		produktas = found.get();");
		JavaFailui.add("        		produktas.setId(id);");
		JavaFailui.add("        		produktas.setPav(pav);");
		JavaFailui.add("        		produktas.setKilme(kilme);");
		JavaFailui.add("        		produktai_rep.save(produktas);");
		JavaFailui.add("        	}");
		JavaFailui.add("");
		JavaFailui.add("        }");
		JavaFailui.add("        if ( salinti.equals("pasalinti") ) {");
		JavaFailui.add("        	");
		JavaFailui.add("        	Optional <Produktai> found = produktai_rep.findById( id );");
		JavaFailui.add("        	");
		JavaFailui.add("        	if ( found.isPresent() ) {");
		JavaFailui.add("    			");
		JavaFailui.add("        	//Produktai produktas = found.get();");
		JavaFailui.add("        		produktai_rep.deleteById(id);");
		JavaFailui.add(" 		");
		JavaFailui.add(" 			}");
		JavaFailui.add("        }");
		JavaFailui.add("        model.addAttribute( "back_end_message", back_end_message );");
		JavaFailui.add("        model.addAttribute( "lst_menu", Menu.values() ); ");
		JavaFailui.add("        model.addAttribute( "lst", produktai_rep.findAll() );");
		JavaFailui.add("        ");
		JavaFailui.add("        ");
		JavaFailui.add("        return kur_eiti;");
		JavaFailui.add("    }");
		JavaFailui.add("	");
		JavaFailui.add("	@RequestMapping(path="/produktas", method={ RequestMethod.GET, RequestMethod.POST })");
		JavaFailui.add("	public String produktas1(");
		JavaFailui.add("		@RequestParam(name="id_prod_medz", required=false) Integer id_prod_medz ");
		JavaFailui.add("		, @RequestParam(name="id", required=true) Integer id");
		JavaFailui.add("		, @RequestParam(name="id_medziagos", required=false) Integer id_medziagos		");
		JavaFailui.add("		, @RequestParam(name="pav", required=false) String pav");
		JavaFailui.add("		, @RequestParam(name="kiekis", required=false) Double kiekis");
		JavaFailui.add("		, @RequestParam(name="veiksmas", required=false, defaultValue="neveikti") String veiksmas");
		JavaFailui.add("		, @RequestParam(name="salinti", required=false, defaultValue="nesalinti") String salinti");
		JavaFailui.add("		, Model model ");
		JavaFailui.add("	) {");
		JavaFailui.add("		");
		JavaFailui.add("		BackEndMessage back_end_message = new BackEndMessage ( "nieko dar neveikem", false, "pranesimas_grey" );");
		JavaFailui.add("		");
		JavaFailui.add("		Produktai produktas = new Produktai();// id, pav;");
		JavaFailui.add("    	// Optional <Produktai> found = produktai_rep.findById( id );");
		JavaFailui.add("    	");
		JavaFailui.add("    	if ( veiksmas.equals("papildyti") ) {");
		JavaFailui.add("    		");
		JavaFailui.add("    		Produktai_medziagos produktas_medziaga = new Produktai_medziagos();");
		JavaFailui.add("    	");
		JavaFailui.add("    		produktas_medziaga.setProduktai_id(id);");
		JavaFailui.add("    		produktas_medziaga.setMaistines_medz_id(id_medziagos);");
		JavaFailui.add("    		produktas_medziaga.setKiekis(kiekis);");
		JavaFailui.add("    		produktai_medziagos_rep.save(produktas_medziaga);");
		JavaFailui.add("		    back_end_message.setMessage( "sarašas papildytas maistine medziaga '" + id_medziagos  + "' ir kiekiu " + kiekis );");
		JavaFailui.add("	    	back_end_message.setCss_class( "pranesimas_green" );");
		JavaFailui.add("        }");
		JavaFailui.add("    	");
		JavaFailui.add("        if ( veiksmas.equals("pakeisti") ) {");
		JavaFailui.add("    		Produktai_medziagos produktas_medziaga = new Produktai_medziagos();");
		JavaFailui.add("    		System.out.println( "Produkto medziagos id: " + id_prod_medz );    		");
		JavaFailui.add("        	Optional <Produktai_medziagos> found_produktas_medziaga = produktai_medziagos_rep.findById( id_prod_medz );");
		JavaFailui.add("        	");
		JavaFailui.add("        	if ( found_produktas_medziaga.isPresent() ) {");
		JavaFailui.add("");
		JavaFailui.add("        		produktas_medziaga = found_produktas_medziaga.get();");
		JavaFailui.add("        		produktas_medziaga.setKiekis(kiekis);");
		JavaFailui.add("        		System.out.println( "Produkto medziaga: " + produktas_medziaga.toString() );");
		JavaFailui.add("        		produktai_medziagos_rep.save(produktas_medziaga);");
		JavaFailui.add("        	}");
		JavaFailui.add("");
		JavaFailui.add("        }");
		JavaFailui.add("        if ( salinti.equals("pasalinti") ) {");
		JavaFailui.add("        	");
		JavaFailui.add("        	Optional <Produktai_medziagos> found_salinamas_produktas_medziaga = produktai_medziagos_rep.findById( id_prod_medz );");
		JavaFailui.add("      ");
		JavaFailui.add("        	if ( found_salinamas_produktas_medziaga.isPresent() ) {");
		JavaFailui.add("    			");
		JavaFailui.add("        		//Maistines_medz maistine_medz = found.get();");
		JavaFailui.add("        		produktai_medziagos_rep.deleteById(id_prod_medz);");
		JavaFailui.add(" 			}");
		JavaFailui.add("        }");
		JavaFailui.add("        ");
		JavaFailui.add("        Optional <Produktai> found = produktai_rep.findById( id );  ");
		JavaFailui.add("    	");
		JavaFailui.add("    	if ( found.isPresent() ) {");
		JavaFailui.add("			");
		JavaFailui.add("    		produktas = found.get();");
		JavaFailui.add("    		System.out.println( "medziagu sk (2).:" + produktas.getProduktai_medziagos().size() );");
		JavaFailui.add("    		");
		JavaFailui.add("    		back_end_message.addMessage( "<br> dabar medziagu yra: " + produktas.getProduktai_medziagos().size() );	");
		JavaFailui.add("    	}");
		JavaFailui.add("    	");
		JavaFailui.add("    	//");
		JavaFailui.add("    	//Optional <Produktai_medziagos> found = produktai_medziagos_rep.findById_produkto(id_produkto);");
		JavaFailui.add("");
		JavaFailui.add("        model.addAttribute( "back_end_message", back_end_message );");
		JavaFailui.add("        model.addAttribute( "lst_menu", Menu.values() ); ");
		JavaFailui.add("        model.addAttribute( "medziagos", produktas.getProduktai_medziagos() );	");
		JavaFailui.add("        model.addAttribute( "visos_medziagos", maistines_medz_rep.findAll() );");
		JavaFailui.add("        model.addAttribute( "pavadinimas", produktas.getPav() );");
		JavaFailui.add("		return "produktas1";");
		JavaFailui.add("	}");
		JavaFailui.add("	");
		JavaFailui.add("	@RequestMapping(path="/maistines_medz", method={ RequestMethod.GET, RequestMethod.POST })");
		JavaFailui.add("    public String maistines_medz(");
		JavaFailui.add("    		@RequestParam(name="id", required=false, defaultValue="") Integer id");
		JavaFailui.add("    		, @RequestParam(name="pav", required=false, defaultValue="") String pav");
		JavaFailui.add("    		, @RequestParam(name="maisto_medz_grupes_id", required=false, defaultValue="") Integer maisto_medz_grupes_id");
		JavaFailui.add("    		, @RequestParam(name="veiksmas", required=false, defaultValue="neveikti") String veiksmas");
		JavaFailui.add("    		, @RequestParam(name="salinti", required=false, defaultValue="nesalinti") String salinti");
		JavaFailui.add("    		, Model model ");
		JavaFailui.add("    	) {");
		JavaFailui.add("		");
		JavaFailui.add("		BackEndMessage back_end_message = new BackEndMessage ( "nieko dar neveikem", false, "pranesimas_grey" );");
		JavaFailui.add("		");
		JavaFailui.add("        if ( veiksmas.equals("papildyti") ) {");
		JavaFailui.add("        	");
		JavaFailui.add("        	List<Maistines_medz> lst_maist_medz = maistines_medz_rep.findByPav(pav);");
		JavaFailui.add("        	");
		JavaFailui.add("        	if ( lst_maist_medz.size() > 0 ) {");
		JavaFailui.add("        		");
		JavaFailui.add("        		back_end_message.setMessage( "maistine medziaga su tokiu pav '" + pav + "' jau egzistuoja" );");
		JavaFailui.add("        		back_end_message.setCss_class( "pranesimas_red" );");
		JavaFailui.add("        		");
		JavaFailui.add("        	} else {");
		JavaFailui.add("        	");
		JavaFailui.add("	        	Maistines_medz maistine_medz = new Maistines_medz( id, pav, maisto_medz_grupes_id );");
		JavaFailui.add("	        	maistines_medz_rep.save( maistine_medz );");
		JavaFailui.add("	    		back_end_message.setMessage( "sarašas papildytas maistine medziaga '" + pav + "'" );");
		JavaFailui.add("	    		back_end_message.setCss_class( "pranesimas_green" );");
		JavaFailui.add("        	}");
		JavaFailui.add("        }");
		JavaFailui.add("        if ( veiksmas.equals("pakeisti") ) {");
		JavaFailui.add("        	Maistines_medz maistine_medz = new Maistines_medz();// id, pav;");
		JavaFailui.add("        	Optional <Maistines_medz> found = maistines_medz_rep.findById( id );");
		JavaFailui.add("        	");
		JavaFailui.add("        	if ( found.isPresent() ) {");
		JavaFailui.add("    			");
		JavaFailui.add("        		maistine_medz = found.get();");
		JavaFailui.add("        		maistine_medz.setId(id);");
		JavaFailui.add("        		maistine_medz.setPav(pav);");
		JavaFailui.add("        		maistine_medz.setMaisto_medz_grupes_id(maisto_medz_grupes_id);");
		JavaFailui.add("        		maistines_medz_rep.save(maistine_medz);");
		JavaFailui.add("        	}");
		JavaFailui.add("");
		JavaFailui.add("        }");
		JavaFailui.add("        if ( salinti.equals("pasalinti") ) {");
		JavaFailui.add("        	");
		JavaFailui.add("        	Optional <Maistines_medz> found = maistines_medz_rep.findById( id );");
		JavaFailui.add("        	");
		JavaFailui.add("        	if ( found.isPresent() ) {");
		JavaFailui.add("    			");
		JavaFailui.add("        	//Maistines_medz maistine_medz = found.get();");
		JavaFailui.add("        	maistines_medz_rep.deleteById(id);");
		JavaFailui.add(" 		");
		JavaFailui.add(" 			}");
		JavaFailui.add("");
		JavaFailui.add("        }");
		JavaFailui.add("        model.addAttribute( "back_end_message", back_end_message );");
		JavaFailui.add("        model.addAttribute("maist_medz_grupes", maisto_medz_grupes_rep.findAll());");
		JavaFailui.add("        model.addAttribute("lst_menu", Menu.values() ); ");
		JavaFailui.add("        model.addAttribute("lst", maistines_medz_rep.findAll() );");
		JavaFailui.add("        ");
		JavaFailui.add("        return "maistine_medz";");
		JavaFailui.add("    }");
		JavaFailui.add("	@RequestMapping(path="/maisto_medz_grupes", method={ RequestMethod.GET, RequestMethod.POST })");
		JavaFailui.add("    public String maisto_medz_grupes(");
		JavaFailui.add("    		@RequestParam(name="id", required=false, defaultValue="") Integer id");
		JavaFailui.add("    		, @RequestParam(name="pav", required=false, defaultValue="") String pav");
		JavaFailui.add("    		, @RequestParam(name="veiksmas", required=false, defaultValue="neveikti") String veiksmas");
		JavaFailui.add("    		, @RequestParam(name="salinti", required=false, defaultValue="nesalinti") String salinti");
		JavaFailui.add("    		, Model model ");
		JavaFailui.add("    	) {");
		JavaFailui.add("        ");
		JavaFailui.add("		BackEndMessage back_end_message = new BackEndMessage ( "nieko dar neveikem", false, "pranesimas_grey" );");
		JavaFailui.add("		");
		JavaFailui.add("		if ( veiksmas.equals("papildyti") ) {");
		JavaFailui.add("        	");
		JavaFailui.add("        	List<Maisto_medz_grupes> lst_maist_medz_grup = maisto_medz_grupes_rep.findByPav(pav);");
		JavaFailui.add("        	");
		JavaFailui.add("        	if ( lst_maist_medz_grup.size() > 0 ) {");
		JavaFailui.add("        		");
		JavaFailui.add("        		back_end_message.setMessage( "maistiniu medziagu grupe su tokiu pav '" + pav + "' jau egzistuoja" );");
		JavaFailui.add("        		back_end_message.setCss_class( "pranesimas_red" );");
		JavaFailui.add("        		");
		JavaFailui.add("        	} else {");
		JavaFailui.add("        	");
		JavaFailui.add("            	Maisto_medz_grupes maisto_medz_grupe = new Maisto_medz_grupes( id, pav );");
		JavaFailui.add("            	maisto_medz_grupes_rep.save( maisto_medz_grupe );");
		JavaFailui.add("	    		back_end_message.setMessage( "sarašas papildytas maistiniu medziagu grupe '" + pav + "'" );");
		JavaFailui.add("	    		back_end_message.setCss_class( "pranesimas_green" );");
		JavaFailui.add("        	}");
		JavaFailui.add("        }");
		JavaFailui.add("        if ( veiksmas.equals("pakeisti") ) {");
		JavaFailui.add("        	");
		JavaFailui.add("        	Maisto_medz_grupes maisto_medz_grupe = new Maisto_medz_grupes();// id, pav );");
		JavaFailui.add("        	Optional <Maisto_medz_grupes> found = maisto_medz_grupes_rep.findById( id );");
		JavaFailui.add("        	");
		JavaFailui.add("        	if ( found.isPresent() ) {");
		JavaFailui.add("    			");
		JavaFailui.add("        		maisto_medz_grupe = found.get();");
		JavaFailui.add("        		maisto_medz_grupe.setId(id);");
		JavaFailui.add("        		maisto_medz_grupe.setPav(pav);");
		JavaFailui.add("        		maisto_medz_grupes_rep.save(maisto_medz_grupe);");
		JavaFailui.add("        	}");
		JavaFailui.add("");
		JavaFailui.add("        }");
		JavaFailui.add("        if ( salinti.equals("pasalinti") ) {");
		JavaFailui.add("        	");
		JavaFailui.add("        	Optional <Maisto_medz_grupes> found = maisto_medz_grupes_rep.findById( id );");
		JavaFailui.add("        	");
		JavaFailui.add("        	if ( found.isPresent() ) {");
		JavaFailui.add("    			");
		JavaFailui.add("        	//Maisto_medz_grupes maisto_medz_grupe = found.get();");
		JavaFailui.add("        	maisto_medz_grupes_rep.deleteById(id);");
		JavaFailui.add(" 		");
		JavaFailui.add(" 			}");
		JavaFailui.add("        }");
		JavaFailui.add("");
		JavaFailui.add("        model.addAttribute( "back_end_message", back_end_message );");
		JavaFailui.add("        model.addAttribute("lst_menu", Menu.values() ); ");
		JavaFailui.add("        model.addAttribute("lst", maisto_medz_grupes_rep.findAll() );");
		JavaFailui.add("        ");
		JavaFailui.add("        return "maisto_medz_grupe";");
		JavaFailui.add("    }");
		JavaFailui.add("	@RequestMapping(path="/", method={ RequestMethod.GET, RequestMethod.POST })");
		JavaFailui.add("    public String index(Model model) {");
		JavaFailui.add("        ");
		JavaFailui.add("	");
		JavaFailui.add("        model.addAttribute("lst_menu", Menu.values() ); ");
		JavaFailui.add("        ");
		JavaFailui.add("        return "index";");
		JavaFailui.add("    }	");
		JavaFailui.add("	");
		JavaFailui.add("	@RequestMapping(path="/produktai_medziagos", method={ RequestMethod.GET, RequestMethod.POST })");
		JavaFailui.add("    public String produktai_medziagos(");
		JavaFailui.add("    		@RequestParam(name="id", required=false, defaultValue="") Integer id");
		JavaFailui.add("    		, @RequestParam(name="id_produkto", required=false, defaultValue="") Integer id_produkto");
		JavaFailui.add("    		, @RequestParam(name="id_medziagos", required=false, defaultValue="") Integer id_medziagos");
		JavaFailui.add("    		, @RequestParam(name="kiekis", required=false, defaultValue="0") Double kiekis");
		JavaFailui.add("    		, @RequestParam(name="veiksmas", required=false, defaultValue="neveikti") String veiksmas");
		JavaFailui.add("    		, @RequestParam(name="salinti", required=false, defaultValue="nesalinti") String salinti");
		JavaFailui.add("    		, Model model ");
		JavaFailui.add("    	) {");
		JavaFailui.add("		");
		JavaFailui.add("		BackEndMessage back_end_message = new BackEndMessage ( "nieko dar neveikem", false, "pranesimas_grey" );");
		JavaFailui.add("		");
		JavaFailui.add("        if ( veiksmas.equals("papildyti") ) {");
		JavaFailui.add("        	");
		JavaFailui.add("        	Produktai_medziagos produktas_medziaga = new Produktai_medziagos( id, id_produkto, id_medziagos, kiekis);");
		JavaFailui.add("        	produktai_medziagos_rep.save( produktas_medziaga );");
		JavaFailui.add("    		back_end_message.setMessage( "sarašas papildytas produkto '" + id_produkto + "' maistines medziagos '" + id_medziagos + "' kiekiu '" + kiekis + "'" );");
		JavaFailui.add("    		back_end_message.setCss_class( "pranesimas_green" );");
		JavaFailui.add("        }");
		JavaFailui.add("      ");
		JavaFailui.add("        if ( veiksmas.equals("pakeisti") ) {");
		JavaFailui.add("        	Produktai_medziagos produktas_medziaga = new Produktai_medziagos();// id, id_produkto, id_medziagos, kiekis );");
		JavaFailui.add("        	Optional <Produktai_medziagos> found = produktai_medziagos_rep.findById( id );");
		JavaFailui.add("        	");
		JavaFailui.add("        	if ( found.isPresent() ) {");
		JavaFailui.add("    			");
		JavaFailui.add("	        	produktas_medziaga = found.get();");
		JavaFailui.add("	        	produktas_medziaga.setId(id);");
		JavaFailui.add("	        	produktas_medziaga.setProduktai_id(id_produkto);");
		JavaFailui.add("	        	produktas_medziaga.setMaistines_medz_id(id_medziagos);");
		JavaFailui.add("	        	produktas_medziaga.setKiekis(kiekis);");
		JavaFailui.add("	        	produktai_medziagos_rep.save(produktas_medziaga);");
		JavaFailui.add("        	}");
		JavaFailui.add("");
		JavaFailui.add("        }");
		JavaFailui.add("        if ( salinti.equals("pasalinti") ) {");
		JavaFailui.add("        	");
		JavaFailui.add("        	Optional <Produktai_medziagos> found = produktai_medziagos_rep.findById( id );");
		JavaFailui.add("        	");
		JavaFailui.add("        	if ( found.isPresent() ) {");
		JavaFailui.add("    			");
		JavaFailui.add("        	//Produktai_medziagos produktas_medziaga = found.get();");
		JavaFailui.add("        	produktai_medziagos_rep.deleteById(id);");
		JavaFailui.add(" 		");
		JavaFailui.add(" 			}");
		JavaFailui.add("  ");
		JavaFailui.add("        }");
		JavaFailui.add("        model.addAttribute( "back_end_message", back_end_message );");
		JavaFailui.add("        model.addAttribute("lst_menu", Menu.values() ); ");
		JavaFailui.add("        model.addAttribute("lst", produktai_medziagos_rep.findAll() );");
		JavaFailui.add("        ");
		JavaFailui.add("        ArrayList<AutocompleteProd> produktu_pav = new ArrayList<AutocompleteProd>();");
		JavaFailui.add("        ");
		JavaFailui.add("        for ( Produktai pr : produktai_rep.findAll() ) {");
		JavaFailui.add("        	");
		JavaFailui.add("        	produktu_pav.add( new AutocompleteProd (pr.getId(),pr.getPav()));");
		JavaFailui.add("        }");
		JavaFailui.add("        ");
		JavaFailui.add("        model.addAttribute("prod_pav", produktu_pav );");
		JavaFailui.add("        ");
		JavaFailui.add("        ArrayList<AutocompleteMedz> medziagos = new ArrayList<AutocompleteMedz>();");
		JavaFailui.add("        ");
		JavaFailui.add("        for ( Maistines_medz medz : maistines_medz_rep.findAll() ) {");
		JavaFailui.add("        	");
		JavaFailui.add("        	medziagos.add( new AutocompleteMedz (medz.getId(),medz.getPav()));");
		JavaFailui.add("        }");
		JavaFailui.add("        ");
		JavaFailui.add("        model.addAttribute("maist_medz", medziagos);");
		JavaFailui.add("        ");
		JavaFailui.add("        return "produktas_medziaga";");
		JavaFailui.add("    }");
		JavaFailui.add("	");
		JavaFailui.add("	@RequestMapping(path="/paieska", method={ RequestMethod.GET, RequestMethod.POST })");
		JavaFailui.add("	public String paieska(");
		JavaFailui.add("    		@RequestParam(name="id_medziagos", required=false, defaultValue="") Integer id_medziagos");
		JavaFailui.add("    		, @RequestParam(name="check_gyv", required=false, defaultValue="0") Integer gyvuline");
		JavaFailui.add("    		, @RequestParam(name="check_aug", required=false, defaultValue="0") Integer augaline");
		JavaFailui.add("    		, @RequestParam(name="veiksmas", required=false, defaultValue="neieskoti") String veiksmas");
		JavaFailui.add("    		, Model model ");
		JavaFailui.add("    	) {");
		JavaFailui.add("		");
		JavaFailui.add("		BackEndMessage back_end_message = new BackEndMessage ( "nieko dar neveikem", false, "pranesimas_grey" );");
		JavaFailui.add("	  ");
		JavaFailui.add("        if ( veiksmas.equals("ieskoti") ) {");
		JavaFailui.add("        ");
		JavaFailui.add("	        Session session = this.sessionFactory().openSession(); ");
		JavaFailui.add("			");
		JavaFailui.add("			TopProduktaiPagalMedz top_produktai_pagal_medz =  new TopProduktaiPagalMedz ( session );");
		JavaFailui.add("	        model.addAttribute( "lst_top_produktai", top_produktai_pagal_medz.topProduktai( id_medziagos, gyvuline, augaline ) ); ");
		JavaFailui.add("        ");
		JavaFailui.add("        }  else  {");
		JavaFailui.add("        	");
		JavaFailui.add("        	model.addAttribute( "lst_top_produktai", new ArrayList<TopProduktai>() );");
		JavaFailui.add("        }");
		JavaFailui.add("      ");
		JavaFailui.add("        model.addAttribute( "lst_menu", Menu.values() ); ");
		JavaFailui.add("        model.addAttribute( "back_end_message", back_end_message );");
		JavaFailui.add("        model.addAttribute( "lst", maistines_medz_rep.findAll() );");
		JavaFailui.add("        ");
		JavaFailui.add("        return "paieska";");
		JavaFailui.add("    }");
		JavaFailui.add("	");
		JavaFailui.add("}");
	}
}

