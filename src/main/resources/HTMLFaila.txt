JavaFailui.add("<!DOCTYPE html>");
JavaFailui.add("<html>");
JavaFailui.add("<head>");
JavaFailui.add("	<meta charset="utf-8">");
JavaFailui.add("	<meta name="viewport" content="width=device-width, initial-scale=1">");
JavaFailui.add("	<title>Produktai</title>");
JavaFailui.add("	<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">");
JavaFailui.add("	<link rel="stylesheet" href="https://jqueryui.com/resources/demos/style.css">");
JavaFailui.add("	<link rel="stylesheet" href="menu.css">");
JavaFailui.add("	<link rel="stylesheet" href="common.css">");
JavaFailui.add("	<style>");
JavaFailui.add("		");
JavaFailui.add("	</style>");
JavaFailui.add("	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>");
JavaFailui.add("	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>");
JavaFailui.add("	<script>");
JavaFailui.add("	$( function() {");
JavaFailui.add("		var dialog, form,");
JavaFailui.add("		// From http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#e-mail-state-%28type=email%29");
JavaFailui.add("		emailRegex = /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,");
JavaFailui.add("		pav = $( "#pav" ),");
JavaFailui.add("		id = $("#id"),");
JavaFailui.add("		allFields = $( [] ).add( pav),");
JavaFailui.add("		tips = $( ".validateTips" );");
JavaFailui.add("	 ");
JavaFailui.add("		function updateTips( t ) {");
JavaFailui.add("		      tips");
JavaFailui.add("			.text( t )");
JavaFailui.add("			.addClass( "ui-state-highlight" );");
JavaFailui.add("		      setTimeout(function() {");
JavaFailui.add("			tips.removeClass( "ui-state-highlight", 1500 );");
JavaFailui.add("		      }, 500 );");
JavaFailui.add("		}");
JavaFailui.add(" ");
JavaFailui.add("		function checkLength( o, n, min, max ) {");
JavaFailui.add("			if ( o.val().length > max || o.val().length < min ) {");
JavaFailui.add("				o.addClass( "ui-state-error" );");
JavaFailui.add("				updateTips( n +  " ilgis turi būti tarp " +");
JavaFailui.add("				  min + " ir " + max + " raidžių." );");
JavaFailui.add("				return false;");
JavaFailui.add("			} else {");
JavaFailui.add("				return true;");
JavaFailui.add("		      }");
JavaFailui.add("		}");
JavaFailui.add("	 ");
JavaFailui.add("		function checkRegexp( o, regexp, n ) {");
JavaFailui.add("			if ( !( regexp.test( o.val() ) ) ) {");
JavaFailui.add("				o.addClass( "ui-state-error" );");
JavaFailui.add("				updateTips( n );");
JavaFailui.add("				return false;");
JavaFailui.add("			} else {");
JavaFailui.add("				return true;");
JavaFailui.add("		      }");
JavaFailui.add("		}");
JavaFailui.add("	 ");
JavaFailui.add("		function addProduct() {");
JavaFailui.add("			var valid = true;");
JavaFailui.add("			 allFields.removeClass( "ui-state-error" );");
JavaFailui.add("		 ");
JavaFailui.add("			valid = valid && checkLength( pav, "Produkto pavadinimo", 1, 30 );");
JavaFailui.add("");
JavaFailui.add("			// valid = valid && checkRegexp( Pavadinimas, /^[a-z]([0-9a-z_\s])+$/i, "product may consist of a-z, 0-9, underscores, spaces and must begin with a letter." );");
JavaFailui.add("	 ");
JavaFailui.add("			if ( valid ) {");
JavaFailui.add("				/*");
JavaFailui.add("				$( "#products tbody" ).append( "<tr>" +");
JavaFailui.add("				  "<td>" + Pavadinimas.val() + "</td>" +");
JavaFailui.add("				"</tr>" );");
JavaFailui.add("				*/");
JavaFailui.add("				alert ( 'submitinam ..'  + pav.val() );				");
JavaFailui.add("				");
JavaFailui.add("				$( '#produkto_forma' ).submit();");
JavaFailui.add("				dialog.dialog( "close" );");
JavaFailui.add("				// alert ( 'submitinom !' );");
JavaFailui.add("				");
JavaFailui.add("			}");
JavaFailui.add("			return valid;");
JavaFailui.add("		}");
JavaFailui.add("	 ");
JavaFailui.add("		dialog = $( "#dialog-form" ).dialog({");
JavaFailui.add("			autoOpen: false,");
JavaFailui.add("			height: 400,");
JavaFailui.add("			width: 350,");
JavaFailui.add("			modal: true,");
JavaFailui.add("			buttons: {");
JavaFailui.add("				"Sukurti": addProduct,");
JavaFailui.add("				Atšaukti: function() {");
JavaFailui.add("					dialog.dialog( "close" );");
JavaFailui.add("				}");
JavaFailui.add("			},");
JavaFailui.add("			close: function() {");
JavaFailui.add("				form[ 0 ].reset();");
JavaFailui.add("				allFields.removeClass( "ui-state-error" );");
JavaFailui.add("			}");
JavaFailui.add("		});");
JavaFailui.add("	 ");
JavaFailui.add("		form = dialog.find( "form" ); /*// .on( "submit", function( event ) {");
JavaFailui.add("		");
JavaFailui.add("			// event.preventDefault();");
JavaFailui.add("			");
JavaFailui.add("			// pridedam = addProduct();");
JavaFailui.add("			");
JavaFailui.add("			// alert ( pridedam );");
JavaFailui.add("			");
JavaFailui.add("			if (  pridedam ) {");
JavaFailui.add("				alert ( 'submitinam ..' );");
JavaFailui.add("				$( '#produkto_forma' ).submit();");
JavaFailui.add("				alert ( 'submitinom !' );");
JavaFailui.add("			}");
JavaFailui.add("		});");
JavaFailui.add("	 */");
JavaFailui.add("		trintidialog = $( "#dialog-confirm" ).dialog({");
JavaFailui.add("			autoOpen: false,");
JavaFailui.add("			resizable: false,");
JavaFailui.add("			height: "auto",");
JavaFailui.add("			width: 400,");
JavaFailui.add("			modal: true,");
JavaFailui.add("			buttons: {");
JavaFailui.add("				"Ištrinti įrašą": function() {");
JavaFailui.add("					$( '#salinimo_forma' ).submit();");
JavaFailui.add("					$( this ).dialog( "close" );");
JavaFailui.add("				},");
JavaFailui.add("				Atšaukti: function() {");
JavaFailui.add("					$( this ).dialog( "close" );");
JavaFailui.add("				}");
JavaFailui.add("			}");
JavaFailui.add("		});");
JavaFailui.add("		$( "#create-product" ).button().on( "click", function() {");
JavaFailui.add("		");
JavaFailui.add("			$( '#pav_veiksmo' ).html ( 'Kuriamas naujas įrašas' );");
JavaFailui.add("			$( '#veiksmas' ).val ( 'papildyti' );");
JavaFailui.add("			dialog.dialog( "open" );");
JavaFailui.add("		});");
JavaFailui.add("		$( ".keisti" ).each ( function() {");
JavaFailui.add("		");
JavaFailui.add("			$( this ).on( "click", function() {");
JavaFailui.add("			");
JavaFailui.add("				id = $( this ).data( 'id' );");
JavaFailui.add("				$( '#id_taisomo_iraso' ).val ( id);");
JavaFailui.add("				$( '#pav_veiksmo' ).html (  'Koreguojamas įrašas' );");
JavaFailui.add("				$('#pav').val( $( this ).data ( 'pav' ));");
JavaFailui.add("				$( '#veiksmas' ).val ( 'pakeisti' );");
JavaFailui.add("				kilme = $( this ).data( 'kilme' );");
JavaFailui.add("				if ( kilme == 1){");
JavaFailui.add("				$('#kilme').prop('checked', true);}");
JavaFailui.add("				dialog.dialog( "open" );	");
JavaFailui.add("			});");
JavaFailui.add("		});");
JavaFailui.add("		$( ".salinti" ).each ( function() {");
JavaFailui.add("		");
JavaFailui.add("			$( this ).on( "click", function() {");
JavaFailui.add("			");
JavaFailui.add("				id = $( this ).data( 'id' );");
JavaFailui.add("				$( '#id_salinamo_iraso' ).val ( id );");
JavaFailui.add("				$( '#pav_salinamo_iraso' ).html ( $( this ).data ( 'pav' ) );				");
JavaFailui.add("				trintidialog.dialog( "open" );	");
JavaFailui.add("			});");
JavaFailui.add("		});");
JavaFailui.add("	});");
JavaFailui.add("  </script>");
JavaFailui.add("</head>");
JavaFailui.add("<body>");
JavaFailui.add("	<p th:attr="class=${back_end_message.getCss_class()}"  th:text="${back_end_message.getMessage()}"></p>");
JavaFailui.add("	<div id="menu">");
JavaFailui.add("		<ul id="menu_sarasas">");
JavaFailui.add("			<li id="menu_punktas" th:each="menu_item : ${lst_menu}">");
JavaFailui.add("				<a th:href="${menu_item.itemurl()}" th:text="${menu_item.naujasPavadinimas()}" th:attr="class=${menu_item.itemurl()}=='/produktai' ? 'active' : 'zzz'"></a>");
JavaFailui.add("			</li>");
JavaFailui.add("		</ul>");
JavaFailui.add("	</div>");
JavaFailui.add("	<div id="dialog-form" title="Produktas">");
JavaFailui.add("		<p class="validateTips">Visi laukai privalomi</p>");
JavaFailui.add("		<p id="pav_veiksmo"></p>");
JavaFailui.add("		<form id="produkto_forma" method="POST">");
JavaFailui.add("			<fieldset>");
JavaFailui.add("				<label for="pav">Produkto pavadinimas</label>");
JavaFailui.add("				<input type="text" name="pav" id="pav" value="" class="text ui-widget-content ui-corner-all" required>");
JavaFailui.add("				<input type="hidden" name="veiksmas" id="veiksmas" value="papildyti">");
JavaFailui.add("				<input type="hidden" name="id" id="id_taisomo_iraso" value="0">");
JavaFailui.add("				<input type="checkbox" name="kilme" id="kilme" value="1">");
JavaFailui.add("				<label for="kilme"> gyvulines kilmes </label><br>");
JavaFailui.add("				<!-- Allow form submission with keyboard without duplicating the dialog button -->");
JavaFailui.add("				<!-- input type="submit" tabindex="-1" style="position:absolute; top:-1000px" name="pildyti" value="papildyti" -->");
JavaFailui.add("				<input type="submit" tabindex="-1" style="position:absolute; top:-1000px">");
JavaFailui.add("			</fieldset>");
JavaFailui.add("		</form>");
JavaFailui.add("	</div>");
JavaFailui.add("	<div id="main">");
JavaFailui.add("		<h3>Esami produktai</h3>");
JavaFailui.add("		<button id="create-product">Irašyti produktą</button>");
JavaFailui.add("		<table id="duombazes_lentele">");
JavaFailui.add("			<thead>");
JavaFailui.add("			<tr>");
JavaFailui.add("				<th>Veiksmai</th>");
JavaFailui.add("				<th>Produkto pavadinimas</th>");
JavaFailui.add("				<th>Kilmė</th>");
JavaFailui.add("			</tr>");
JavaFailui.add("			</thead>");
JavaFailui.add("			<tbody>");
JavaFailui.add("			<tr th:each="produktas : ${lst}">");
JavaFailui.add("				<td>");
JavaFailui.add("					<input type="button" class="keisti" value="keisti" id="keisti" th:attr="data-id=${produktas.getId()},data-pav=${produktas.getPav()}, data-kilme=${produktas.getKilme()}">");
JavaFailui.add("					<input type="button" class="salinti" value="šalinti" id="salinti" th:attr="data-id=${produktas.getId()},data-pav=${produktas.getPav()}">");
JavaFailui.add("				</td>");
JavaFailui.add("				<td>");
JavaFailui.add("					<a th:href="@{/produktas(id=${produktas.getId()})}" th:text="${produktas.getPav()}"></a>");
JavaFailui.add("				</td>");
JavaFailui.add("				<td th:text="${produktas.getKilme()}==1 ? 'gyvuline' : 'augaline'">");
JavaFailui.add("				</td>");
JavaFailui.add("			</tr>");
JavaFailui.add("			</tbody>");
JavaFailui.add("		</table>");
JavaFailui.add("	</div>");
JavaFailui.add("	<div id="dialog-confirm" title="Ištrinti įrašą?">");
JavaFailui.add("		<p><span class="ui-icon ui-icon-alert" style="float:left; margin:12px 12px 20px 0;"></span>");
JavaFailui.add("		<p>Šis įrašas <span id="pav_salinamo_iraso"></span> bus ištrintas ir nebus įmanoma jo atkurti. Ar tikrai norite ištrinti įrašą?</p>");
JavaFailui.add("		<form id="salinimo_forma" method="POST">");
JavaFailui.add("			<input type="hidden" name="salinti" value="pasalinti">");
JavaFailui.add("			<input type="hidden" name="id" id="id_salinamo_iraso" value="0">");
JavaFailui.add("			<input type="submit" tabindex="-1" style="position:absolute; top:-1000px">");
JavaFailui.add("		</form>");
JavaFailui.add("	</div>");
JavaFailui.add("</body>");
JavaFailui.add("</html>");
